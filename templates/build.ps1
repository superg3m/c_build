# This build file has been generated by c_build
if ($PSVersionTable.Platform -eq "Unix") {
    Set-Alias python python3
}

. ./c_build/validate_temp_files.ps1 bootstrap.ps1
. ./c_build/validate_temp_files.ps1 $MyInvocation.MyCommand.Name

Push-Location  "./c_build"
git fetch origin -q
git reset --hard origin/main -q
git pull -q

$venvPath = "./.venv"
$venvActivateScript = "$venvPath\Scripts\Activate.ps1"
if (Test-Path -Path $venvActivateScript) {
    . $venvActivateScript
}
Pop-Location

if ($args[0] -eq "-debug") {
    python -B -m c_build_script --execution_type "BUILD" --build_type "debug"
} else {
    python -B -m c_build_script --execution_type "BUILD" --build_type "release"
}